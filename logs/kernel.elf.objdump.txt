export PSPOUT="/mnt/c/users/alastair/documents/PPSSPP/memstick/PSP/GAME/RKN" && \
export PSPDEV="/usr/local/pspdev" && \
export PSPBIN="$PSPDEV/bin" && \
export PSPLIB="$PSPDEV/lib" && \
export PSPSDK="./elf2pbp" && \
export PSPGCC="$PSPLIB/gcc/psp/11.2.0" && \
export PATH="$PATH:$PSPBIN:./elf2pbp" && \
psp-gcc -c main.c -o main.o  -I ./include/kernel -I ./include/user -I ./include/base -I ./include/modinfo -I ./include/display -I ./include/debug -I ./include/ctrl -I ./include/gu -I ./include/fpu -I ./include/vfpu -I ./include/mp3 -I ./include/mpeg -I ./include/video && \
psp-ld main.o -o kernel.elf -T link.ld.main  -L ./lib/kernel -lpspkernel -L ./lib/user -lpspuser -L ./lib/base -L ./lib/modinfo -lpspmodinfo -L ./lib/display -lpspdisplay -lpspdisplay_driver -L ./lib/debug -lpspdebug -lpspdebugkb -lpspgdb -lpspgdb_kernel -lpspgdb_user -L ./lib/ctrl -lpspctrl -L ./lib/gu -lpspgu -L ./lib/fpu -lpspfpu -L ./lib/vfpu -lpspvfpu -L ./lib/mp3 -lpspmp3 -L ./lib/mpeg -lpspjpeg -lpspmpeg -lpspmpegbase -lpspmpegbase_driver -L ./lib/video -lpspvideocodec && \
psp-objdump -s kernel.elf && \
elf2pbp kernel.elf EBOOT.PBP && \
cp ./EBOOT.PBP $PSPOUT

kernel.elf:     file format elf32-littlemips

Contents of section .text:
 0000 f8ffbd27 0400beaf 25f0a003 00000000  ...'....%.......
 0010 25e8c003 0400be8f 0800bd27 0800e003  %..........'....
 0020 00000000 f8ffbd27 0400beaf 25f0a003  .......'....%...
 0030 00000000 25e8c003 0400be8f 0800bd27  ....%..........'
 0040 0800e003 00000000 f8ffbd27 0400bfaf  ...........'....
 0050 0000beaf 25f0a003 0000000c 00000000  ....%...........
 0060 0900000c 00000000 fdff0010 00000000  ................
 0070 f0ffbd27 0c00beaf 25f0a003 0000c4af  ...'....%.......
 0080 0400c5af 25100000 25e8c003 0c00be8f  ....%...%.......
 0090 1000bd27 0800e003 00000000 e8ffbd27  ...'...........'
 00a0 1400beaf 25f0a003 0000c4af 0400c5af  ....%...........
 00b0 0800c6af 25100000 25e8c003 1400be8f  ....%...%.......
 00c0 1800bd27 0800e003 00000000 f8ffbd27  ...'...........'
 00d0 0400bfaf 0000beaf 25f0a003 1200000c  ........%.......
 00e0 00000000 25e8c003 0400bf8f 0000be8f  ....%...........
 00f0 0800bd27 0800e003 00000000           ...'........    
Contents of section .MIPS.abiflags:
 0100 00000200 01010002 00000000 00000000  ................
 0110 00000000 00000000                    ........        
Contents of section .rodata.sceModuleInfo:
 0120 00000001 45424f4f 54000000 00000000  ....EBOOT.......
 0130 00000000 00000000 00000000 00000000  ................
 0140 00000000 58010000 58010000 60010000  ....X...X...`...
 0150 60010000                             `...            
Contents of section .lib.ent.top:
 0154 00000000                             ....            
Contents of section .lib.ent.btm:
 0158 00000000                             ....            
Contents of section .lib.stub.top:
 015c 00000000                             ....            
Contents of section .lib.stub.btm:
 0160 00000000                             ....            
Contents of section .reginfo:
 0000 740000e0 00000000 00000000 00000000  t...............
 0010 00000000 00000000                    ........        
Contents of section .gnu.attributes:
 0000 410f0000 00676e75 00010700 00000402  A....gnu........
./elf2pbp
[0]        320 bytes | ./elf2pbp/param.sfo
[1]        814 bytes | ./elf2pbp/icon0.png
[2]          0 bytes | ./elf2pbp/icon1.pmf
[3]          0 bytes | ./elf2pbp/pic0.png
[4]          0 bytes | ./elf2pbp/pic1.png
[5]          0 bytes | ./elf2pbp/snd0.at3
[6]       5664 bytes | ./elf2pbp/data.psp
[7]          0 bytes | ./elf2pbp/data.psar
